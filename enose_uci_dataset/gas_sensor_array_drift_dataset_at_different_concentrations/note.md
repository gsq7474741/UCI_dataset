# Gas Sensor Array Drift at Different Concentrations

## 数据集

### 数据集信息

该档案包含 16 个化学传感器的 13910 个测量值，这些传感器用于模拟对 6 种不同浓度的气体进行鉴别任务的漂移补偿。
目标是随着时间的推移实现良好的性能（或尽可能低的退化），如下文第2 节：数据收集中提到的论文所述。
提供此数据集的主要目的是使化学传感器研究界和人工智能可以在线免费访问它，以制定应对传感器/概念漂移的策略。该数据集只能用于研究目的。完全排除商业用途。
该数据集是在2007 年 1 月至 2011 年 2 月（36个月）期间在位于加州大学圣地亚哥分校生物电路研究所化学信号实验室的气体输送平台设施中收集的。
完全由完全计算机化的环境操作 -由配备适当串行数据采集板的 PC 上的 LabVIEW-National Instruments软件控制。
测量系统平台具有多功能性，可以高精度、高重复性地获得所需化学物质的浓度，从而最大限度地减少人为干预造成的常见错误，并可以专注于化学传感器以补偿实际漂移。
生成的数据集包含六种不同的纯气态物质的记录，即氨、乙醛、丙酮、乙烯、乙醇和甲苯，每种物质的浓度值范围从 5 到 1000 ppmv。
有关此数据集中考虑的测量记录的气体标识名称、浓度值和时间分布序列的详细信息，请参阅下面引用的手稿中的表 1 和表 2。
Batch10.dat 已于 2013 年 10 月 14 日更新，以更正文件最后 120行中的一些损坏值。


### 变量信息

所述传感器的响应以每个传感器活性层上的电阻形式读出；因此每次测量都会产生一个 16通道时间序列，每个时间序列都由一组特征表示，
这些特征反映了传感器表面对被评估的化学物质的反应所发生的所有动态过程。
具体而言，在创建此数据集时考虑了两种不同类型的特征：

(i) 所谓的稳态特征 (ΔR)，定义为最大电阻变化与基线的差异及其归一化版本，以测试室中存在化学蒸汽时最大电阻与基线值的比率表示。

(ii) 一组特征反映了在受控条件下整个测量过程中传感器响应的增加/衰减瞬态部分的传感器动态，即指数移动平均线 (emaΔ)。


一旦计算出上述特征，就需要形成一个特征向量，该向量包含从每个特定传感器提取的8 个特征乘以这里考虑的 16 个传感器。
最后，得到的包含上述所有特征（8 个特征×16 个传感器）的 128维特征向量组织如下

`{类别};{浓度} 1:{sensor1_feature1} 2:{sensor1_feature2} ... 128:{sensor16_feature8}`



### 数据样例

`batch1.dat`:

```text
1;10.000000 1:15596.162100 2:1.868245 3:2.371604 4:2.803678 5:7.512213 6:-2.739388 7:-3.344671 8:-4.847512 9:15326.691400 10:1.768526 11:2.269085 12:2.713374 13:6.915721 14:-2.488324 15:-3.082212 16:-5.056975 17:2789.383100 18:2.754759 19:0.430440 20:0.649457 21:1.795029 22:-0.426662 23:-0.584313 24:-1.438976 25:2581.568600 26:2.680623 27:0.399746 28:0.605065 29:1.786704 30:-0.400115 31:-0.550743 32:-1.728611 33:685.399400 34:1.682904 35:0.122736 36:0.223703 37:0.584691 38:-0.138196 39:-0.236907 40:-0.781959 41:797.773800 42:1.742488 43:0.152483 44:0.218904 45:0.841862 46:-0.164646 47:-0.315720 48:-0.791447 49:3128.848900 50:3.605537 51:0.532422 52:0.763062 53:2.118983 54:-0.557197 55:-0.809953 56:-2.344130 57:3136.877800 58:3.555169 59:0.535883 60:0.761388 61:1.499244 62:-0.571480 63:-0.944425 64:-2.658358 65:13540.673800 66:1.765738 67:2.006883 68:2.519022 69:6.261430 70:-2.172101 71:-2.694967 72:-3.791499 73:13831.753900 74:1.746493 75:2.057165 76:2.391239 77:5.695234 78:-2.350776 79:-2.888766 80:-8.129869 81:3020.919100 82:2.819354 83:0.474520 84:0.723993 85:2.160130 86:-0.467900 87:-0.638167 88:-1.643650 89:2185.974100 90:2.949381 91:0.342575 92:0.515090 93:1.340477 94:-0.361030 95:-0.493482 96:-1.200617 97:862.747900 98:1.779291 99:0.165138 100:0.246473 101:1.358106 102:-0.187465 103:-0.416382 104:-1.058061 105:1059.756200 106:1.896047 107:0.198946 108:0.334017 109:0.815048 110:-0.204467 111:-0.345119 112:-0.969336 113:3357.112400 114:3.860647 115:0.580818 116:0.806830 117:1.729739 118:-0.619214 119:-1.071137 120:-3.037772 121:3037.039000 122:3.972203 123:0.527291 124:0.728443 125:1.445783 126:-0.545079 127:-0.902241 128:-2.654529 
1;20.000000 1:26402.070400 2:2.532401 3:5.411209 4:6.509906 5:7.658469 6:-4.722217 7:-5.817651 8:-7.518333 9:23855.781200 10:2.164706 11:4.901063 12:5.971392 13:6.978131 14:-4.199424 15:-5.221090 16:-7.604863 17:3882.905700 18:3.155054 19:0.802987 20:1.172245 21:1.570895 22:-0.697881 23:-0.944655 24:-1.334743 25:3651.042700 26:3.130669 27:0.739278 28:1.101765 29:1.428631 30:-0.659641 31:-0.915543 32:-1.334217 33:982.949000 34:1.933877 35:0.233308 36:0.378052 37:0.717916 38:-0.225572 39:-0.354591 40:-0.748061 41:1162.237800 42:2.039431 43:0.278337 44:0.486908 45:0.840494 46:-0.271369 47:-0.473164 48:-0.718214 49:4332.154300 50:3.990162 51:1.002503 52:1.586233 53:1.926608 54:-0.913245 55:-1.335612 56:-1.773328 57:4387.528400 58:4.011519 59:1.009769 60:1.647830 61:1.962858 62:-0.944028 63:-1.631468 64:-1.925095 65:20553.564500 66:2.108870 67:4.266941 68:5.185937 69:6.398693 70:-3.636176 71:-4.497039 72:-7.464548 73:22540.193300 74:2.222146 75:4.621283 76:5.573620 77:6.756039 78:-3.986434 79:-4.953663 80:-6.561748 81:4240.301100 82:3.262893 83:0.887237 84:1.297617 85:1.630074 86:-0.768036 87:-1.244472 88:-1.419646 89:3079.062100 90:3.399659 91:0.649639 92:0.948781 93:1.369550 94:-0.598444 95:-0.820868 96:-1.081919 97:1237.013100 98:2.067927 99:0.305793 100:0.558008 101:0.948564 102:-0.289557 103:-0.501078 104:-1.191404 105:1459.635600 106:2.149242 107:0.361007 108:0.614619 109:0.950204 110:-0.327339 111:-0.503861 112:-0.838039 113:4685.775300 114:4.277604 115:1.080629 116:1.818559 117:2.237534 118:-1.004812 119:-1.530519 120:-1.994993 121:4176.445300 122:4.281373 123:0.980205 124:1.628050 125:1.951172 126:-0.889333 127:-1.323505 128:-1.749225 
...
```

`batch8.dat`：

```text
4;100.000000 1:191.678400 2:1.097676 3:0.085713 4:0.374642 5:2.811447 6:-0.119149 7:-0.365198 8:-2.850503 9:37699.609300 10:3.410369 11:9.692600 12:14.618374 13:24.715278 14:-8.165545 15:-12.094239 16:-34.006684 17:8932.682900 18:3.424292 19:2.519343 20:4.476731 21:9.334217 22:-2.016334 23:-3.410085 24:-9.919937 25:9036.281500 26:3.303704 27:2.540368 28:4.411801 29:7.623647 30:-2.004905 31:-3.284269 32:-10.582721 33:2397.743200 34:2.298949 35:0.858986 36:2.086802 37:5.056685 38:-0.588877 39:-1.144501 40:-5.434928 41:2149.170800 42:2.187579 43:0.772232 44:2.044545 45:4.349598 46:-0.529639 47:-1.112689 48:-4.452800 49:11864.302200 50:3.680024 51:3.746102 52:7.045698 53:10.688661 54:-2.856566 55:-5.107787 56:-13.541820 57:12503.934100 58:3.631380 59:3.994928 60:7.655898 61:11.861445 62:-3.033432 63:-5.399332 64:-12.707092 65:33209.031200 66:3.313124 67:6.974960 68:9.710674 69:16.653879 70:-5.851903 71:-8.429603 72:-26.192714 73:21114.495100 74:2.735633 75:4.193540 76:5.835873 77:10.278766 78:-3.500111 79:-5.037374 80:-15.469851 81:10877.833900 82:3.608550 83:2.834880 84:4.323547 85:6.233371 86:-2.287414 87:-3.360956 88:-7.785282 89:8926.402300 90:3.514866 91:2.361454 92:3.708356 93:6.265744 94:-1.906495 95:-2.824825 96:-6.552052 97:3281.951100 98:2.352164 99:1.139184 100:2.904699 101:4.703665 102:-0.761658 103:-1.397183 104:-3.552804 105:3224.382300 106:2.335492 107:1.120283 108:2.875418 109:4.791037 110:-0.742220 111:-1.282544 112:-4.057572 113:14282.364800 114:3.973612 115:4.081411 116:6.915375 117:9.600034 118:-3.273612 119:-5.293610 120:-10.223869 121:12723.271000 122:3.888402 123:3.740372 124:6.324860 125:8.530802 126:-2.909987 127:-4.585015 128:-8.863957 
5;25.000000 1:1026.771100 2:1.778150 3:0.217603 4:0.456212 5:2.717769 6:-0.120566 7:-0.366165 8:-2.849829 9:43174.535100 10:4.856851 11:9.245458 12:12.537111 13:22.710297 14:-6.796471 15:-10.219551 16:-38.371321 17:5727.292000 18:2.781960 19:1.399761 20:2.629207 21:5.699241 22:-1.009512 23:-1.795951 24:-6.459613 25:5851.159200 26:2.716979 27:1.424782 28:2.571962 29:6.156511 30:-1.008044 31:-1.710250 32:-7.001899 33:1624.380900 34:1.949066 35:0.442316 36:1.082046 37:4.063169 38:-0.308871 39:-0.729253 40:-3.331484 41:1496.608200 42:1.896552 43:0.430390 44:1.023637 45:3.651014 46:-0.293531 47:-0.682750 48:-3.683393 49:7602.567200 50:2.969736 51:1.929007 52:3.787076 53:8.162997 54:-1.433906 55:-2.486791 56:-8.486986 57:8036.963900 58:2.942639 59:2.064181 60:4.088119 61:7.229885 62:-1.519608 63:-2.724047 64:-9.508092 65:23296.909200 66:2.890624 67:4.706019 68:5.838126 69:13.835841 70:-3.734678 71:-5.696814 72:-20.653101 73:13898.226600 74:2.319187 75:2.780250 76:3.565395 77:8.841275 78:-2.014310 79:-3.138329 80:-10.936581 81:6723.945100 82:2.826210 83:1.526820 84:2.521124 85:4.813483 86:-1.116159 87:-1.706533 88:-5.475701 89:5310.131800 90:2.669989 91:1.222960 92:2.120624 93:4.456644 94:-0.916206 95:-1.411785 96:-4.127651 97:2412.941200 98:2.106933 99:0.697654 100:1.551727 101:3.617705 102:-0.430299 103:-0.778288 104:-2.574608 105:2414.588200 106:2.109409 107:0.711666 108:1.520980 109:3.209453 110:-0.419389 111:-0.766572 112:-2.739835 113:8564.565400 114:2.985754 115:1.980935 116:3.642785 117:6.130027 118:-1.559282 119:-2.429851 120:-6.116201 121:7552.893500 122:2.904174 123:1.795621 124:3.273222 125:5.340532 126:-1.381657 127:-2.131961 128:-5.697300 
...  
```

## 数据处理

### 时间序列SSL预训练任务

元数据：气体、采样率、电阻单位、每个样本时长

对于每个样本，处理为单个csv文件：

每列为一个传感器的特征，每个样本应该是16个传感器x8个特征，最后几列为标签（气体种类、气体浓度，第几个batch）。
例如：sensor_0,sensor_1,...,sensor_16,label_gas,label_ppm,label_batch

具体来说，原数据中的每一行都另存为一个(16+3)*8大小的csv文件，文件命名按照 `{气体种类}_{气体浓度}_{第几个batch}_{样本id}`

气体标签映射如下：
1: Ethanol; 2: Ethylene; 3: Ammonia; 4: Acetaldehyde; 5: Acetone; 6: Toluene


prompt:

```text
请帮我根据以上信息处理数据集，生成csv文件。
当前目录结构如下：
.
├── note.md
└── .raw
    └── Dataset
        ├── batch1.dat
        ├── ...
        └── batch10.dat


请帮我在./ssl_csv_samples下生成要求的文件，使用python
```

模型输出：

见 `process_data.py`